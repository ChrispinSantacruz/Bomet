<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bomet Shooter - Welcome</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="icon" type="image/png" href="../images/personajes/vida.png" />
    <style>
        /* Galaxy Background Animation */
            /* Fondo personalizado con imagen */
            .custom-bg {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: url('../images/backgroundmenu.png') center center/cover no-repeat;
                z-index: -2;
            }
            .custom-bg-body {
                background: none !important;
            }

        /* Title Animation */
        .title-glow {
            text-shadow: 
                0 0 10px #00FFFF,
                0 0 20px #00FFFF,
                0 0 30px #00FFFF,
                0 0 40px #00FFFF;
            animation: title-pulse 3s ease-in-out infinite alternate;
        }

        @keyframes title-pulse {
            0% { 
                text-shadow: 
                    0 0 10px #00FFFF,
                    0 0 20px #00FFFF,
                    0 0 30px #00FFFF;
            }
            100% { 
                text-shadow: 
                    0 0 15px #00FFFF,
                    0 0 25px #00FFFF,
                    0 0 35px #00FFFF,
                    0 0 45px #00FFFF;
            }
        }

        /* Welcome Animation */
        .welcome-pulse {
            animation: welcome-glow 2s ease-in-out infinite alternate;
        }

        @keyframes welcome-glow {
            0% { 
                text-shadow: 
                    0 0 10px #FFFF00,
                    0 0 20px #FFFF00;
            }
            100% { 
                text-shadow: 
                    0 0 15px #FFFF00,
                    0 0 25px #FFFF00,
                    0 0 35px #FFFF00;
            }
        }

        /* Button Animations */
        .neon-button {
            background: linear-gradient(135deg, #00FFFF 0%, #22D3EE 100%);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .neon-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .neon-button:hover::before {
            left: 100%;
        }

        .neon-button:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 255, 255, 0.5),
                0 0 50px rgba(0, 255, 255, 0.2);
        }

        .neon-button:active {
            transform: translateY(0) scale(0.98);
            transition-duration: 0.1s;
        }

        .secondary-button {
            background: linear-gradient(135deg, #FF00FF 0%, #D946EF 100%);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 0, 255, 0.3);
        }

        .secondary-button:hover {
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 0, 255, 0.5),
                0 0 50px rgba(255, 0, 255, 0.2);
        }

        .accent-button {
            background: linear-gradient(135deg, #FFFF00 0%, #FACC15 100%);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 0, 0.3);
            color: #0A0A1A;
        }

        .accent-button:hover {
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 255, 0, 0.5),
                0 0 50px rgba(255, 255, 0, 0.2);
        }

        .danger-button {
            background: linear-gradient(135deg, #FF3366 0%, #DC2626 100%);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 51, 102, 0.3);
        }

        .danger-button:hover {
            box-shadow: 
                0 6px 25px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 51, 102, 0.5),
                0 0 50px rgba(255, 51, 102, 0.2);
        }

        /* Fade In Animation */
        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        .fade-in-delay-1 {
            animation: fadeIn 1.2s ease-out forwards;
        }

        .fade-in-delay-2 {
            animation: fadeIn 1.4s ease-out forwards;
        }

        .fade-in-delay-3 {
            animation: fadeIn 1.6s ease-out forwards;
        }

        @keyframes fadeIn {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .welcome-container {
                padding: 1rem;
            }
            
            .menu-button {
                min-height: 60px;
                font-size: 18px;
            }
            /* Make the logo oversized on mobile (over 100vw) and visually center it */
            .welcome-container .text-center img {
                width: 100vw !important; /* reduced by 20% from 150vw */
                max-width: none !important;
                min-width: 160px;
                display: block;
                margin: 0 auto 2vh auto;
                margin-left: -4vw !important; /* center the oversized image (120vw -> shift left by (120-100)/2 = 10vw) */
            }
        }

        /* Floating particles */
        .floating-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00FFFF;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
            opacity: 0.7;
        }

        .floating-particle:nth-child(2) {
            background: #FF00FF;
            animation-delay: -2s;
            animation-duration: 8s;
        }

        .floating-particle:nth-child(3) {
            background: #FFFF00;
            animation-delay: -4s;
            animation-duration: 7s;
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg);
                opacity: 0.7;
            }
            50% { 
                transform: translateY(-20px) rotate(180deg);
                opacity: 1;
            }
        }
    </style>
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fbometshoo6010back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="min-h-screen flex items-center justify-center font-body overflow-hidden">
    <!-- Fondo con imagen backgroundmenu.png -->
    <div class="custom-bg"></div>

    <!-- Floating Particles -->
    <div class="floating-particle" style="top: 20%; left: 10%;"></div>
    <div class="floating-particle" style="top: 60%; right: 15%;"></div>
    <div class="floating-particle" style="bottom: 30%; left: 20%;"></div>

    <!-- Main Welcome Container -->
    <div class="welcome-container w-full max-w-lg mx-auto px-6 py-8 fade-in">
        <!-- Game Title -->
        <div class="text-center mb-8 fade-in-delay-1">
            <img src="../images/components/logo.png" alt="Bomet Shooter Logo" style="width:38vw; max-width:420px; min-width:180px; margin:0 auto 2vh auto;" />
        </div>

        <!-- Personalized Greeting -->
        <div class="text-center mb-12">
        <h2 id="playerGreeting" class="font-heading text-2xl md:text-3xl font-bold text-accent welcome-pulse mb-2">
            Welcome, <span id="playerNameSpan"></span>
            </h2>
        </div>

        <!-- Navigation Menu -->
        <div class="space-y-4 fade-in-delay-2 flex flex-col items-center justify-center">
            <a href="game_canvas.html" class="block mb-2">
                <img src="../images/buttons/botonplaymenu.png" alt="Play" style="width: 260px; max-width: 80vw;" />
            </a>
            <a href="instructions.html" class="block mb-2">
                <img src="../images/buttons/botoninstrucciones.png" alt="Instructions" style="width: 260px; max-width: 80vw;" />
            </a>
            <a href="leaderboard.html" class="block">
                <img src="../images/buttons/botonleaderboards.png" alt="Leaderboard" style="width: 260px; max-width: 80vw;" />
            </a>
        </div>

    <!-- Custom Background for Home -->
        

        <!-- Footer -->
    <div class="text-center mt-8" style="margin-top: 7.5%;">
            <p class="text-text-secondary/50 text-sm">
                © 2025 Bomet Shooter. All rights reserved.
            </p>
            <p class="text-text-secondary/40 text-xs mt-1">
                Version 1.0 - Last login: <span id="lastLogin">Now</span>
            </p>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if player is logged in
            const playerName = localStorage.getItem('bometPlayerName');
            if (!playerName) {
                window.location.href = 'login.html';
                return;
            }
            // Set greeting
            document.getElementById('playerNameSpan').textContent = playerName;
        });

        function loadGameStats() {
            // Load best score from localStorage
            const bestScore = localStorage.getItem('bometBestScore') || '0';
            const gamesPlayed = localStorage.getItem('bometGamesPlayed') || '0';
            
            document.getElementById('bestScore').textContent = formatScore(bestScore);
            document.getElementById('gamesPlayed').textContent = gamesPlayed;
        }

        function updateLastLoginTime() {
            const loginTime = localStorage.getItem('bometLoginTime');
            if (loginTime) {
                const loginDate = new Date(loginTime);
                const now = new Date();
                const diffMinutes = Math.floor((now - loginDate) / (1000 * 60));
                
                let timeText = 'Now';
                if (diffMinutes > 0) {
                    if (diffMinutes < 60) {
                        timeText = `Hace ${diffMinutes} min`;
                    } else {
                        const diffHours = Math.floor(diffMinutes / 60);
                        timeText = `Hace ${diffHours}h`;
                    }
                }
                
                document.getElementById('lastLogin').textContent = timeText;
            }
        }

        function formatScore(score) {
            return parseInt(score).toLocaleString('en-US');
        }

        function handleLogout() {
            // Show confirmation dialog
            if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                // Add loading state
                const logoutBtn = document.getElementById('logoutBtn');
                const originalText = logoutBtn.textContent;
                logoutBtn.textContent = 'CERRANDO...';
                logoutBtn.disabled = true;

                // Clear all game data from localStorage
                localStorage.removeItem('bometPlayerName');
                localStorage.removeItem('bometLoginTime');
                
                // Optional: Keep game statistics for next login
                // localStorage.removeItem('bometBestScore');
                // localStorage.removeItem('bometGamesPlayed');

                // Simulate logout process and redirect
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 1000);
            }
        }

        function addButtonEffects() {
            const buttons = document.querySelectorAll('.menu-button');
            
            buttons.forEach(button => {
                // Add click sound effect (visual feedback)
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 100);
                });

                // Add hover effects for better UX
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px) scale(1.02)';
                });

                button.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });
        }

        // Prevent back navigation from game screens
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                window.location.reload();
            }
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1':
                    window.location.href = 'game_canvas.html';
                    break;
                case '2':
                    window.location.href = 'instructions.html';
                    break;
                case '3':
                    window.location.href = 'leaderboard.html';
                    break;
                case 'Escape':
                    handleLogout();
                    break;
            }
        });

        // Update stats periodically if user stays on page
        setInterval(updateLastLoginTime, 60000); // Update every minute
    </script>
<script id="dhws-dataInjector" src="/dhws-data-injector.js"></script>
</body>
</html>